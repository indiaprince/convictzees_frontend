"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[241],{5553:function(e,t,n){n.d(t,{dF:function(){return _}});var r=n(6441),o=n(1581),i=n(8794),u=n(2593);let s=new o.Yd(i.i),c={},a=u.O$.from(0),h=u.O$.from(-1);function l(e,t,n,r){let i={fault:t,operation:n};return void 0!==r&&(i.value=r),s.throwError(e,o.Yd.errors.NUMERIC_FAULT,i)}let f="0";for(;f.length<256;)f+=f;function d(e){if("number"!=typeof e)try{e=u.O$.from(e).toNumber()}catch(t){}return"number"==typeof e&&e>=0&&e<=256&&!(e%1)?"1"+f.substring(0,e):s.throwArgumentError("invalid decimal size","decimals",e)}function m(e,t){null==t&&(t=0);let n=d(t);e=u.O$.from(e);let r=e.lt(a);r&&(e=e.mul(h));let o=e.mod(n).toString();for(;o.length<n.length-1;)o="0"+o;o=o.match(/^([0-9]*[1-9]|0)(0*)/)[1];let i=e.div(n).toString();return e=1===n.length?i:i+"."+o,r&&(e="-"+e),e}function v(e,t){null==t&&(t=0);let n=d(t);"string"==typeof e&&e.match(/^-?[0-9.]+$/)||s.throwArgumentError("invalid decimal value","value",e);let r="-"===e.substring(0,1);r&&(e=e.substring(1)),"."===e&&s.throwArgumentError("missing value","value",e);let o=e.split(".");o.length>2&&s.throwArgumentError("too many decimal points","value",e);let i=o[0],c=o[1];for(i||(i="0"),c||(c="0");"0"===c[c.length-1];)c=c.substring(0,c.length-1);for(c.length>n.length-1&&l("fractional component exceeds decimals","underflow","parseFixed"),""===c&&(c="0");c.length<n.length-1;)c+="0";let a=u.O$.from(i),f=u.O$.from(c),m=a.mul(n).add(f);return r&&(m=m.mul(h)),m}class p{constructor(e,t,n,r){e!==c&&s.throwError("cannot use FixedFormat constructor; use FixedFormat.from",o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=t,this.width=n,this.decimals=r,this.name=(t?"":"u")+"fixed"+String(n)+"x"+String(r),this._multiplier=d(r),Object.freeze(this)}static from(e){if(e instanceof p)return e;"number"==typeof e&&(e=`fixed128x${e}`);let t=!0,n=128,r=18;if("string"==typeof e){if("fixed"===e);else if("ufixed"===e)t=!1;else{let o=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);o||s.throwArgumentError("invalid fixed format","format",e),t="u"!==o[1],n=parseInt(o[2]),r=parseInt(o[3])}}else if(e){let i=(t,n,r)=>null==e[t]?r:(typeof e[t]!==n&&s.throwArgumentError("invalid fixed format ("+t+" not "+n+")","format."+t,e[t]),e[t]);t=i("signed","boolean",t),n=i("width","number",n),r=i("decimals","number",r)}return n%8&&s.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),r>80&&s.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",r),new p(c,t,n,r)}}class w{constructor(e,t,n,r){e!==c&&s.throwError("cannot use FixedNumber constructor; use FixedNumber.from",o.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=r,this._hex=t,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&s.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);let t=v(this._value,this.format.decimals),n=v(e._value,e.format.decimals);return w.fromValue(t.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);let t=v(this._value,this.format.decimals),n=v(e._value,e.format.decimals);return w.fromValue(t.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);let t=v(this._value,this.format.decimals),n=v(e._value,e.format.decimals);return w.fromValue(t.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);let t=v(this._value,this.format.decimals),n=v(e._value,e.format.decimals);return w.fromValue(t.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=w.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(t=t.subUnsafe(g.toFormat(t.format))),t}ceiling(){let e=this.toString().split(".");1===e.length&&e.push("0");let t=w.from(e[0],this.format),n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(t=t.addUnsafe(g.toFormat(t.format))),t}round(e){null==e&&(e=0);let t=this.toString().split(".");if(1===t.length&&t.push("0"),(e<0||e>80||e%1)&&s.throwArgumentError("invalid decimal count","decimals",e),t[1].length<=e)return this;let n=w.from("1"+f.substring(0,e),this.format),r=y.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(r).floor().divUnsafe(n)}isZero(){return"0.0"===this._value||"0"===this._value}isNegative(){return"-"===this._value[0]}toString(){return this._value}toHexString(e){if(null==e)return this._hex;e%8&&s.throwArgumentError("invalid byte width","width",e);let t=u.O$.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return(0,r.$m)(t,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return w.fromString(this._value,e)}static fromValue(e,t,n){return null!=n||null==t||(0,u.Zm)(t)||(n=t,t=null),null==t&&(t=0),null==n&&(n="fixed"),w.fromString(m(e,t),p.from(n))}static fromString(e,t){null==t&&(t="fixed");let n=p.from(t),o=v(e,n.decimals);!n.signed&&o.lt(a)&&l("unsigned value cannot be negative","overflow","value",e);let i=null;n.signed?i=o.toTwos(n.width).toHexString():(i=o.toHexString(),i=(0,r.$m)(i,n.width/8));let u=m(o,n.decimals);return new w(c,i,u,n)}static fromBytes(e,t){null==t&&(t="fixed");let n=p.from(t);if((0,r.lE)(e).length>n.width/8)throw Error("overflow");let o=u.O$.from(e);n.signed&&(o=o.fromTwos(n.width));let i=o.toTwos((n.signed?0:1)+n.width).toHexString(),s=m(o,n.decimals);return new w(c,i,s,n)}static from(e,t){if("string"==typeof e)return w.fromString(e,t);if((0,r._t)(e))return w.fromBytes(e,t);try{return w.fromValue(e,0,t)}catch(n){if(n.code!==o.Yd.errors.INVALID_ARGUMENT)throw n}return s.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}let g=w.from(1),y=w.from("0.5");new o.Yd("units/5.7.0");let b=["wei","kwei","mwei","gwei","szabo","finney","ether"];function _(e){return function(e,t){if("string"==typeof t){let n=b.indexOf(t);-1!==n&&(t=3*n)}return m(e,null!=t?t:18)}(e,18)}},6939:function(e,t,n){n.d(t,{Q:function(){return i}});var r=n(7187),o=n(3653),i=function(e){function t(t){var n,r=(void 0===t?{}:t).supportedChainIds;return(n=e.call(this)||this).supportedChainIds=r,n}(n=t).prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e;var n,r=t.prototype;return r.emitUpdate=function(e){this.emit(o._.Update,e)},r.emitError=function(e){this.emit(o._.Error,e)},r.emitDeactivate=function(){this.emit(o._.Deactivate)},t}(r.EventEmitter)},950:function(e,t,n){n.d(t,{_k:function(){return v}});var r=n(6939);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t,n){return(c=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&s(o,n.prototype),o}:Reflect.construct).apply(null,arguments)}function a(e){var t="function"==typeof Map?new Map:void 0;return(a=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return c(e,arguments,u(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),s(n,e)})(e)}function h(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){try{var n=e()}catch(r){return t(r)}return n&&n.then?n.then(void 0,t):n}function f(e){return e.hasOwnProperty("result")?e.result:e}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var d=function(e){function t(){var t;return(t=e.call(this)||this).name=t.constructor.name,t.message="No Ethereum provider was found on window.ethereum.",t}return i(t,e),t}(a(Error)),m=function(e){function t(){var t;return(t=e.call(this)||this).name=t.constructor.name,t.message="The user rejected the request.",t}return i(t,e),t}(a(Error)),v=function(e){function t(t){var n;return(n=e.call(this,t)||this).handleNetworkChanged=n.handleNetworkChanged.bind(h(n)),n.handleChainChanged=n.handleChainChanged.bind(h(n)),n.handleAccountsChanged=n.handleAccountsChanged.bind(h(n)),n.handleClose=n.handleClose.bind(h(n)),n}i(t,e);var n=t.prototype;return n.handleChainChanged=function(e){this.emitUpdate({chainId:e,provider:window.ethereum})},n.handleAccountsChanged=function(e){0===e.length?this.emitDeactivate():this.emitUpdate({account:e[0]})},n.handleClose=function(e,t){this.emitDeactivate()},n.handleNetworkChanged=function(e){this.emitUpdate({chainId:e,provider:window.ethereum})},n.activate=function(){try{var e,t=function(t){if(n)return t;function r(){return o({provider:window.ethereum},e?{account:e}:{})}var i=function(){if(!e)return Promise.resolve(window.ethereum.enable().then(function(e){return e&&f(e)[0]})).then(function(t){e=t})}();return i&&i.then?i.then(r):r(i)},n=!1;if(!window.ethereum)throw new d;window.ethereum.on&&(window.ethereum.on("chainChanged",this.handleChainChanged),window.ethereum.on("accountsChanged",this.handleAccountsChanged),window.ethereum.on("close",this.handleClose),window.ethereum.on("networkChanged",this.handleNetworkChanged)),window.ethereum.isMetaMask&&(window.ethereum.autoRefreshOnNetworkChange=!1);var r=l(function(){return Promise.resolve(window.ethereum.send("eth_requestAccounts").then(function(e){return f(e)[0]})).then(function(t){e=t})},function(e){if(4001===e.code)throw new m});return Promise.resolve(r&&r.then?r.then(t):t(r))}catch(i){return Promise.reject(i)}},n.getProvider=function(){try{return Promise.resolve(window.ethereum)}catch(e){return Promise.reject(e)}},n.getChainId=function(){try{var e,t=function(){function t(){if(!e)try{e=f(window.ethereum.send({method:"net_version"}))}catch(t){}return e||(e=window.ethereum.isDapper?f(window.ethereum.cachedResults.net_version):window.ethereum.chainId||window.ethereum.netVersion||window.ethereum.networkVersion||window.ethereum._chainId),e}var n=function(){if(!e){var t=l(function(){return Promise.resolve(window.ethereum.send("net_version").then(f)).then(function(t){e=t})},function(){});if(t&&t.then)return t.then(function(){})}}();return n&&n.then?n.then(t):t(n)};if(!window.ethereum)throw new d;var n=l(function(){return Promise.resolve(window.ethereum.send("eth_chainId").then(f)).then(function(t){e=t})},function(){});return Promise.resolve(n&&n.then?n.then(t):t(n))}catch(r){return Promise.reject(r)}},n.getAccount=function(){try{var e,t=function(){function t(){return e||(e=f(window.ethereum.send({method:"eth_accounts"}))[0]),e}var n=function(){if(!e){var t=l(function(){return Promise.resolve(window.ethereum.enable().then(function(e){return f(e)[0]})).then(function(t){e=t})},function(){});if(t&&t.then)return t.then(function(){})}}();return n&&n.then?n.then(t):t(n)};if(!window.ethereum)throw new d;var n=l(function(){return Promise.resolve(window.ethereum.send("eth_accounts").then(function(e){return f(e)[0]})).then(function(t){e=t})},function(){});return Promise.resolve(n&&n.then?n.then(t):t(n))}catch(r){return Promise.reject(r)}},n.deactivate=function(){window.ethereum&&window.ethereum.removeListener&&(window.ethereum.removeListener("chainChanged",this.handleChainChanged),window.ethereum.removeListener("accountsChanged",this.handleAccountsChanged),window.ethereum.removeListener("close",this.handleClose),window.ethereum.removeListener("networkChanged",this.handleNetworkChanged))},n.isAuthorized=function(){try{if(!window.ethereum)return Promise.resolve(!1);return Promise.resolve(l(function(){return Promise.resolve(window.ethereum.send("eth_accounts").then(function(e){return f(e).length>0}))},function(){return!1}))}catch(e){return Promise.reject(e)}},t}(r.Q)},3929:function(e,t,n){n.d(t,{zw:function(){return l}});var r=n(6939);function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u(e,t)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t,n){return(s=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&u(o,n.prototype),o}:Reflect.construct).apply(null,arguments)}function c(e){var t="function"==typeof Map?new Map:void 0;return(c=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return s(e,arguments,i(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),u(n,e)})(e)}function a(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var h=function(e){function t(){var t;return(t=e.call(this)||this).name=t.constructor.name,t.message="The user rejected the request.",t}return o(t,e),t}(c(Error)),l=function(e){function t(t){var n,r,o;return(n=e.call(this,{supportedChainIds:(r=t.supportedChainIds,o=t.rpc,r||(o?Object.keys(o).map(function(e){return Number(e)}):void 0))})||this).config=t,n.handleChainChanged=n.handleChainChanged.bind(a(n)),n.handleAccountsChanged=n.handleAccountsChanged.bind(a(n)),n.handleDisconnect=n.handleDisconnect.bind(a(n)),n}o(t,e);var r=t.prototype;return r.handleChainChanged=function(e){this.emitUpdate({chainId:e})},r.handleAccountsChanged=function(e){this.emitUpdate({account:e[0]})},r.handleDisconnect=function(){this.walletConnectProvider&&(this.walletConnectProvider.removeListener("chainChanged",this.handleChainChanged),this.walletConnectProvider.removeListener("accountsChanged",this.handleAccountsChanged),this.walletConnectProvider=void 0),this.emitDeactivate()},r.activate=function(){try{var e=this,t=function(){function t(){var t;return Promise.resolve(new Promise(function(n,r){var o=function(){e.walletConnectProvider=void 0,r(new h)};e.walletConnectProvider.connector.on("disconnect",function(){t||o()}),e.walletConnectProvider.enable().then(function(e){return n(e[0])}).catch(function(e){if("User closed modal"===e.message){o();return}r(e)})}).catch(function(e){throw e})).then(function(n){return t=n,e.walletConnectProvider.on("disconnect",e.handleDisconnect),e.walletConnectProvider.on("chainChanged",e.handleChainChanged),e.walletConnectProvider.on("accountsChanged",e.handleAccountsChanged),{provider:e.walletConnectProvider,account:t}})}var n=function(){if(!e.walletConnectProvider.connector.connected)return Promise.resolve(e.walletConnectProvider.connector.createSession(e.config.chainId?{chainId:e.config.chainId}:void 0)).then(function(){e.emit("URI_AVAILABLE",e.walletConnectProvider.connector.uri)})}();return n&&n.then?n.then(t):t(n)},r=function(){if(!e.walletConnectProvider)return Promise.resolve(Promise.all([n.e(70),n.e(563)]).then(n.bind(n,1070)).then(function(e){var t;return null!=(t=null==e?void 0:e.default)?t:e})).then(function(t){e.walletConnectProvider=new t(e.config)})}();return Promise.resolve(r&&r.then?r.then(t):t(r))}catch(o){return Promise.reject(o)}},r.getProvider=function(){try{return Promise.resolve(this.walletConnectProvider)}catch(e){return Promise.reject(e)}},r.getChainId=function(){try{return Promise.resolve(this.walletConnectProvider.chainId)}catch(e){return Promise.reject(e)}},r.getAccount=function(){try{return Promise.resolve(this.walletConnectProvider.accounts).then(function(e){return e[0]})}catch(e){return Promise.reject(e)}},r.deactivate=function(){this.walletConnectProvider&&(this.walletConnectProvider.removeListener("disconnect",this.handleDisconnect),this.walletConnectProvider.removeListener("chainChanged",this.handleChainChanged),this.walletConnectProvider.removeListener("accountsChanged",this.handleAccountsChanged),this.walletConnectProvider.disconnect())},r.close=function(){try{return this.emitDeactivate(),Promise.resolve()}catch(e){return Promise.reject(e)}},t}(r.Q)},7187:function(e){var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise(function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}v(e,t,i,{once:!0}),"error"!==t&&"function"==typeof e.on&&v(e,"error",o,{once:!0})})},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var u=10;function s(e){if("function"!=typeof e)throw TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function a(e,t,n,r){if(s(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),u=i[t]),void 0===u)u=i[t]=n,++e._eventsCount;else if("function"==typeof u?u=i[t]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),(o=c(e))>0&&u.length>o&&!u.warned){u.warned=!0;var o,i,u,a=Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=u.length,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0==arguments.length)?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function l(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=h.bind(r);return o.listener=n,r.wrapFn=o,o}function f(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):m(o,o.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else if("function"==typeof e.addEventListener)e.addEventListener(t,function o(i){r.once&&e.removeEventListener(t,o),n(i)});else throw TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return u},set:function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");u=e}}),i.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return c(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){if(t.length>0&&(u=t[0]),u instanceof Error)throw u;var u,s=Error("Unhandled error."+(u?" ("+u.message+")":""));throw s.context=u,s}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else for(var a=c.length,h=m(c,a),n=0;n<a;++n)r(h[n],this,t);return!0},i.prototype.addListener=function(e,t){return a(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return a(this,e,t,!0)},i.prototype.once=function(e,t){return s(t),this.on(e,l(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,l(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,u;if(s(t),void 0===(r=this._events)||void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){u=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,u||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0==arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0==arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return f(this,e,!0)},i.prototype.rawListeners=function(e){return f(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},i.prototype.listenerCount=d,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}}}]);